AST dump for PrecisionSerializer after pass expandExternArrayCalls.
Module use list: 

{
  (387022 'use' ChapelStandard)
  (158728 'use' IO)
  (158731 'use' CTypes)
  type precisionSerializer[159847] unknown precision[158735] int[10] unknown padding[158740] int[10] function precisionSerializer[159847].init[158744](arg _mt[158748]:_MT[201], arg this[158746]:precisionSerializer[159847]) : _unknown[42] "method" "primary method"
  {
    (158751 call =(158756 call . this c"precision") 15)
    (158760 call =(158765 call . this c"padding") 0)
  } function precisionSerializer[159847].init[158771](arg _mt[158785]:_MT[201], arg this[158773]:precisionSerializer[159847], arg precision[158776] :
  int[10], arg padding[158781] :
  int[10] =
  0) : _unknown[42] "method" "primary method"
  {
    (158788 call =(158791 call . this c"precision") precision)
    (158795 call =(158798 call . this c"padding") padding)
  } function precisionSerializer[159847]._serializeClassOrPtr[158804](arg _mt[158817]:_MT[201], ref arg this[158806]:precisionSerializer[159847], arg writer[158809] :
  fileWriter, arg x[158814] :
  unknown t[158812]) : _unknown[42] throws "method" "primary method"
  {
    if(158863 call _cond_test(158859 call == x nil[32]))
    {
      (158826 call(158823 call . writer c"writeLiteral") "nil")
    }
    {
      { scopeless
        if(158855 call _cond_test(158853 call isClassType t))
        {
          (158837 call(158834 call .(158831 call postfix! x) c"serialize")(writer = writer)(serializer = this))
        }
        {
          (158847 call(158844 call . x c"serialize")(writer = writer)(serializer = this))
        }
      }
    }
  }
  { scopeless type
    void[4]
  } function precisionSerializer[159847].serializeValue[158871](arg _mt[158884]:_MT[201], ref arg this[158873]:precisionSerializer[159847], arg writer[158876] :
  fileWriter, const arg val[158881] :
  unknown t[158879]) : _unknown[42] throws "method" "primary method"
  {
    if(159098 call _cond_test(159096 call isRealType t))
    {
      if(158928 call _cond_test(158921 call >(158924 call . this c"padding") 0))
      {
        (158894 call(158891 call . writer c"writef") "%*.*dr"(158899 call . this c"padding")(158903 call . this c"precision") val)
      }
      {
        (158912 call(158909 call . writer c"writef") "%.*dr"(158917 call . this c"precision") val)
      }
    }
    {
      { scopeless
        if(159090 call _cond_test(159088 call isIntegralType t))
        {
          if(158976 call _cond_test(158969 call >(158972 call . this c"padding") 0))
          {
            (158938 call(158935 call . writer c"writef") "%*i"(158943 call . this c"padding") val)
          }
          {
            (158954 call(158951 call . writer c"_writeOne")(158958 call . _iokind c"dynamic") val(158968 call(158965 call . writer c"getLocaleOfIoRequest")))
          }
        }
        {
          { scopeless
            if(159082 call _cond_test(159057 call ||(159059 call ||(159061 call ||(159063 call ||(159066 call isNumericType t)(159069 call isBoolType t))(159072 call isEnumType t))(159074 call == t string[244]))(159078 call == t bytes[232])))
            {
              (158985 call(158982 call . writer c"_writeOne")(158987 call . _iokind c"dynamic") val(158995 call(158992 call . writer c"getLocaleOfIoRequest")))
            }
            {
              { scopeless
                if(159052 call _cond_test(159048 call == t _nilType))
                {
                  (159001 call(158998 call . writer c"writeLiteral") "nil")
                }
                {
                  { scopeless
                    if(159043 call _cond_test(159030 call ||(159032 call ||(159035 call isClassType t)(159038 call isAnyCPtr t))(159041 call chpl_isDdata t)))
                    {
                      (159005 call _serializeClassOrPtr writer val)
                    }
                    {
                      { scopeless
                        if(159026 call _cond_test(159024 call isUnionType t))
                        {
                          (159010 call writeThisDefaultImpl writer val)
                        }
                        {
                          (159018 call(159015 call . val c"serialize")(writer = writer)(serializer = this))
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  { scopeless type
    void[4]
  } function precisionSerializer[159847].startClass[159106](arg _mt[159122]:_MT[201], arg this[159108]:precisionSerializer[159847], arg writer[159111] :
  fileWriter, arg name[159115] :
  string[244], arg size[159119] :
  int[10]) : _unknown[42] throws "method" "primary method"
  {
    (159129 call(159126 call . writer c"writeLiteral") "{")
    (159131 return(159132 'new'(159134 call AggregateSerializer writer(_ending = "}"))))
  } function precisionSerializer[159847].startRecord[159140](arg _mt[159156]:_MT[201], arg this[159142]:precisionSerializer[159847], arg writer[159145] :
  fileWriter, arg name[159149] :
  string[244], arg size[159153] :
  int[10]) : _unknown[42] throws "method" "primary method"
  {
    (159163 call(159160 call . writer c"writeLiteral") "(")
    (159165 return(159166 'new'(159168 call AggregateSerializer writer(_ending = ")"))))
  } type AggregateSerializer[159350](?) unknown writer[159176] unknown _parent[159180] 0 unknown _first[159185] 1 bool const _ending[159191] "const" string[244] unknown _firstPtr[159196] nil[32](159198 call c_ptr bool) function AggregateSerializer[159350](?).writeField[159203](arg _mt[159215]:_MT[201], ref arg this[159205]:AggregateSerializer[159350](?), arg name[159208] :
  string[244], const arg field[159212] :
  ?[227]) : _unknown[42] throws "method" "primary method"
  {
    if(159233 call _cond_test(159230 call ! _first))
    {
      { scopeless
        (159222 call(159219 call . writer c"writeLiteral") ", ")
      }
    }
    {
      { scopeless
        (159225 call = _first 0)
      }
    }
    (159243 call(159240 call . writer c"writeLiteral") name)
    (159249 call(159246 call . writer c"writeLiteral") " = ")
    (159255 call(159252 call . writer c"write") field)
  } function AggregateSerializer[159350](?).startClass[159259](arg _mt[159275]:_MT[201], ref arg this[159261]:AggregateSerializer[159350](?), arg writer[159264] :
  fileWriter, arg name[159268] :
  string[244], arg size[159272] :
  int[10]) : _unknown[42] throws "method" "primary method"
  {
    (159278 return(159279 'new'(159281 call AggregateSerializer writer(_parent = 1)(_firstPtr =(159286 call c_addrOf _first)))))
  } function AggregateSerializer[159350](?).endClass[159291](arg _mt[159295]:_MT[201], arg this[159293]:AggregateSerializer[159350](?)) : _unknown[42] throws "method" "primary method"
  {
    if(159326 call _cond_test(159323 call ! _parent))
    {
      { scopeless
        (159302 call(159299 call . writer c"writeLiteral") _ending)
      }
    }
    {
      { scopeless
        if(159318 call _cond_test(159314 call != _firstPtr nil[32]))
        {
          { scopeless
            (159305 call =(159311 call(159308 call . _firstPtr c"deref")) _first)
          }
        }
      }
    }
  } function AggregateSerializer[159350](?).endRecord[159334](arg _mt[159338]:_MT[201], arg this[159336]:AggregateSerializer[159350](?)) : _unknown[42] throws "method" "primary method"
  {
    (159345 call(159342 call . writer c"writeLiteral") _ending)
  } function precisionSerializer[159847].startTuple[159352](arg _mt[159364]:_MT[201], arg this[159354]:precisionSerializer[159847], arg writer[159357] :
  fileWriter, arg size[159361] :
  int[10]) : _unknown[42] throws "method" "primary method"
  {
    (159371 call(159368 call . writer c"writeLiteral") "(")
    (159373 return(159374 'new'(159376 call TupleSerializer writer size)))
  } type TupleSerializer[159473](?) unknown writer[159383] const size[159387] "const" int[10] unknown _first[159392] 1 bool function TupleSerializer[159473](?).writeElement[159397](arg _mt[159405]:_MT[201], ref arg this[159399]:TupleSerializer[159473](?), const arg element[159402] :
  ?[227]) : _unknown[42] throws "method" "primary method"
  {
    if(159423 call _cond_test(159420 call ! _first))
    {
      { scopeless
        (159412 call(159409 call . writer c"writeLiteral") ", ")
      }
    }
    {
      { scopeless
        (159415 call = _first 0)
      }
    }
    (159433 call(159430 call . writer c"write") element)
  } function TupleSerializer[159473](?).endTuple[159437](arg _mt[159441]:_MT[201], arg this[159439]:TupleSerializer[159473](?)) : _unknown[42] throws "method" "primary method"
  {
    if(159464 call _cond_test(159460 call == size 1))
    {
      { scopeless
        (159448 call(159445 call . writer c"writeLiteral") ",)")
      }
    }
    {
      { scopeless
        (159457 call(159454 call . writer c"writeLiteral") ")")
      }
    }
  } function precisionSerializer[159847].startList[159475](arg _mt[159487]:_MT[201], arg this[159477]:precisionSerializer[159847], arg writer[159480] :
  fileWriter, arg size[159484] :
  int[10]) : _unknown[42] throws "method" "primary method"
  {
    (159494 call(159491 call . writer c"writeLiteral") "[")
    (159496 return(159497 'new'(159499 call ListSerializer writer)))
  } type ListSerializer[159570](?) unknown writer[159505] unknown _first[159509] 1 bool function ListSerializer[159570](?).writeElement[159514](arg _mt[159522]:_MT[201], ref arg this[159516]:ListSerializer[159570](?), const arg element[159519] :
  ?[227]) : _unknown[42] throws "method" "primary method"
  {
    if(159540 call _cond_test(159537 call ! _first))
    {
      { scopeless
        (159529 call(159526 call . writer c"writeLiteral") ", ")
      }
    }
    {
      { scopeless
        (159532 call = _first 0)
      }
    }
    (159550 call(159547 call . writer c"write") element)
  } function ListSerializer[159570](?).endList[159554](arg _mt[159558]:_MT[201], arg this[159556]:ListSerializer[159570](?)) : _unknown[42] throws "method" "primary method"
  {
    (159565 call(159562 call . writer c"writeLiteral") "]")
  } function precisionSerializer[159847].startArray[159572](arg _mt[159584]:_MT[201], arg this[159574]:precisionSerializer[159847], arg writer[159577] :
  fileWriter, arg size[159581] :
  int[10]) : _unknown[42] throws "method" "primary method"
  {
    (159587 return(159588 'new'(159590 call ArraySerializer writer)))
  } type ArraySerializer[159722](?) unknown writer[159596] unknown _arrayDim[159600] int[10] unknown _arrayMax[159605] int[10] unknown _first[159610] 1 bool function ArraySerializer[159722](?).startDim[159615](arg _mt[159623]:_MT[201], ref arg this[159617]:ArraySerializer[159722](?), arg size[159620] :
  int[10]) : _unknown[42] throws "method" "primary method"
  {
    (159626 call += _arrayDim 1)
    if(159647 call _cond_test(159643 call >= _arrayMax _arrayDim))
    {
      { scopeless
        (159636 call(159633 call . writer c"writeNewline"))
      }
    }
    {
      { scopeless
        (159638 call = _arrayMax _arrayDim)
      }
    }
  } function ArraySerializer[159722](?).endDim[159655](arg _mt[159659]:_MT[201], ref arg this[159657]:ArraySerializer[159722](?)) : _unknown[42] throws "method" "primary method"
  {
    (159662 call -= _arrayDim 1)
    (159666 call = _first 1)
  } function ArraySerializer[159722](?).writeElement[159672](arg _mt[159680]:_MT[201], ref arg this[159674]:ArraySerializer[159722](?), const arg element[159677] :
  ?[227]) : _unknown[42] throws "method" "primary method"
  {
    if(159698 call _cond_test(159695 call ! _first))
    {
      { scopeless
        (159687 call(159684 call . writer c"writeLiteral") " ")
      }
    }
    {
      { scopeless
        (159690 call = _first 0)
      }
    }
    (159708 call(159705 call . writer c"write") element)
  } function ArraySerializer[159722](?).endArray[159712](arg _mt[159716]:_MT[201], arg this[159714]:ArraySerializer[159722](?)) : _unknown[42] throws "method" "primary method"
  {
  } function precisionSerializer[159847].startMap[159724](arg _mt[159736]:_MT[201], arg this[159726]:precisionSerializer[159847], arg writer[159729] :
  fileWriter, arg size[159733] :
  int[10]) : _unknown[42] throws "method" "primary method"
  {
    (159743 call(159740 call . writer c"writeLiteral") "{")
    (159745 return(159746 'new'(159748 call MapSerializer writer)))
  } type MapSerializer[159844](?) unknown writer[159754] unknown _first[159758] 1 bool function MapSerializer[159844](?).writeKey[159763](arg _mt[159771]:_MT[201], ref arg this[159765]:MapSerializer[159844](?), const arg key[159768] :
  ?[227]) : _unknown[42] throws "method" "primary method"
  {
    if(159789 call _cond_test(159786 call ! _first))
    {
      { scopeless
        (159778 call(159775 call . writer c"writeLiteral") ", ")
      }
    }
    {
      { scopeless
        (159781 call = _first 0)
      }
    }
    (159799 call(159796 call . writer c"write") key)
  } function MapSerializer[159844](?).writeValue[159803](arg _mt[159811]:_MT[201], arg this[159805]:MapSerializer[159844](?), const arg val[159808] :
  ?[227]) : _unknown[42] throws "method" "primary method"
  {
    (159818 call(159815 call . writer c"writeLiteral") ": ")
    (159824 call(159821 call . writer c"write") val)
  } function MapSerializer[159844](?).endMap[159828](arg _mt[159832]:_MT[201], arg this[159830]:MapSerializer[159844](?)) : _unknown[42] throws "method" "primary method"
  {
    (159839 call(159836 call . writer c"writeLiteral") "}")
  }
}